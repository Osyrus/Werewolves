<head>
  <title>Werewolves and Villagers</title>
</head>

<body>
  <div class="container">
    {{#if lobby}}
      <header>
        <h1>Players (Ready/Total): {{playerCounter}}</h1>

        {{> loginButtons}}

        {{#if currentUser}}
          <br>
          {{#if joined}}
            <button class="leave-game">Leave Game</button>
            <button class="{{#if ready}}set-nready{{else}}set-ready{{/if}}">
              {{#if ready}}
                Not Ready
              {{else}}
                Ready
              {{/if}}
            </button>
            <button class="start-game
                {{#if allReady}}all-ready{{/if}}
                {{#if counting}}counting{{/if}}">
              {{#if counting}}
                {{countdown}} Cancel
              {{else}}
                Start Game
              {{/if}}
            </button>
          {{else}}
            <button class="join-game">Join Game</button>
          {{/if}}
        {{/if}}
      </header>

      <ul>
        {{#each players}}
          {{> player}}
        {{/each}}
      </ul>

      {{#if joined}}
        <ul>
          {{#each roles}}
            {{> role}}
          {{/each}}
        </ul>
      {{/if}}
    {{/if}}

    {{#if loadingScreen}}
      <header>
        <h1>Loading game</h1>
      </header>
    {{/if}}
  </div>
</body>

<template name="player">
  <li class="player-list">
      <span class="player-name {{#if ready}}ready{{/if}}">{{name}}</span>
  </li>
</template>

<template name="role">
  <li class="vote-status">
      <button class="vote-down {{#if equals vote -1}}sel{{/if}} {{#if cantVote}}done{{/if}}">-</button>
      <button class="vote-neutral {{#if equals vote 0}}sel{{/if}} {{#if cantVote}}done{{/if}}">o</button>
      <button class="vote-up {{#if equals vote 1}}sel{{/if}} {{#if cantVote}}done{{/if}}">+</button>

    <span class="role-name {{#if roleEnabled}}enabled{{/if}}">{{name}}</span>
  </li>
</template>